╔═══════════════════════════════════════════════════════════════╗
║                                                               ║
║     🏆 WINNER HIGHLIGHT - QUICK TEST GUIDE                   ║
║                                                               ║
╚═══════════════════════════════════════════════════════════════╝

═══════════════════════════════════════════════════════════════

✨ НОВАЯ ФУНКЦИЯ: ЗОЛОТАЯ ПОДСВЕТКА ПОБЕДИТЕЛЯ!

После showdown победитель теперь:
  • Подсвечивается ЗОЛОТОЙ рамкой
  • Получает бейдж "WIN" сверху
  • Пульсирующее свечение (2 секунды цикл)
  • Автоматически исчезает через 5 секунд

═══════════════════════════════════════════════════════════════

🚀 БЫСТРЫЙ СТАРТ:

Terminal 1 - Server:
  ```
  python server.py
  ```

Terminal 2 - Client:
  ```
  cd poker-table-ui
  npm start
  ```

Browser:
  http://localhost:3000

═══════════════════════════════════════════════════════════════

🧪 КАК ТЕСТИРОВАТЬ:

1. Открыть игру
2. Играть hand до showdown (минимум 2 игрока до river)
3. Дождаться определения победителя
4. 🌟 СМОТРЕТЬ НА ЭФФЕКТ! 🌟

═══════════════════════════════════════════════════════════════

✅ ЧТО ВЫ УВИДИТЕ:

┌────────────────────────────────────────────────────────────┐
│                                                            │
│   ОБЫЧНЫЙ ИГРОК          VS          ПОБЕДИТЕЛЬ           │
│                                                            │
│   ┌──────────┐                    ╔══════════╗            │
│   │ Player 1 │                    ║ ┌─WIN─┐  ║ ← Бейдж   │
│   │  $1,000  │                    ║ Player 2 ║            │
│   └──────────┘                    ║  $2,500  ║            │
│                                    ╚══════════╝            │
│   Серая рамка                      💫 ЗОЛОТАЯ РАМКА 💫    │
│   Нет эффектов                     Пульсирующее свечение  │
│                                                            │
└────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════

🎨 ВИЗУАЛЬНЫЕ ЭФФЕКТЫ:

1. ЗОЛОТАЯ РАМКА
   • Цвет: #fbbf24 (яркий золотой)
   • Толщина: 3px
   • Тройное свечение (30px, 60px, 90px)
   • ВАЖНО: пульсирует каждые 2 секунды!

2. БЕЙДЖ "WIN"
   • Позиция: сверху над игроком
   • Анимация: bounce при появлении
   • Градиент: переливается постоянно
   • Цвет: золотой на темном

3. ФОН ИГРОКА
   • Полупрозрачный золотой градиент
   • Внутреннее свечение
   • Z-index: 100 (всегда на переднем плане)

═══════════════════════════════════════════════════════════════

⏱️ ТАЙМЛАЙН:

00:00 - Showdown происходит
00:00 - Сервер определяет победителя
00:01 - ⚡ Мгновенная подсветка появляется
00:01-05:00 - Эффект пульсирует
05:00 - ✅ Подсветка исчезает
05:01 - Новая раздача начинается

═══════════════════════════════════════════════════════════════

🔍 DEBUG (F12 Console):

Ожидаемые логи:

При определении победителя:
  🏆 handComplete received: ["user-123"] "showdown"
  👑 Winners highlighted at seats: [1]

Если НЕ видите эти логи:
  → Сервер не отправляет handComplete
  → Проверьте server.py lines 789-791

Если видите логи, но нет подсветки:
  → Проверьте CSS загружен
  → Проверьте .seatWinner класс применен
  → F12 → Elements → Inspect player seat

═══════════════════════════════════════════════════════════════

✅ CHECKLIST:

При тестировании проверьте:

[ ] Золотая рамка появляется СРАЗУ после showdown
[ ] Рамка ПУЛЬСИРУЕТ (видно невооруженным глазом)
[ ] Бейдж "WIN" над игроком
[ ] Бейдж анимирован (bounce + shine)
[ ] Эффект держится ~5 секунд
[ ] Подсветка исчезает автоматически
[ ] Новая раздача начинается нормально
[ ] F12 Console показывает 🏆 и 👑 логи

═══════════════════════════════════════════════════════════════

🎯 ТЕСТОВЫЕ СЦЕНАРИИ:

Сценарий 1: Один победитель
  • 2 игрока
  • Играют до showdown
  • У одного лучшая комбинация
  • ✅ Один игрок подсвечивается

Сценарий 2: Split Pot (несколько победителей)
  • 2+ игрока
  • Одинаковые комбинации
  • ✅ Все победители подсвечены золотым

Сценарий 3: Fold до showdown
  • Все кроме одного фолдят
  • ✅ Последний игрок подсвечен
  • ✅ handComplete event с winType: "fold"

═══════════════════════════════════════════════════════════════

🐛 TROUBLESHOOTING:

ПРОБЛЕМА: Подсветка не появляется

Решение:
  1. F12 → Console
  2. Ищите 🏆 handComplete received
  3. Если НЕТ → server.py не emit событие
  4. Если ЕСТЬ → проверьте seats mapping

ПРОБЛЕМА: Подсветка не пульсирует

Решение:
  1. F12 → Elements
  2. Найдите player seat
  3. Проверьте class="... seatWinner ..."
  4. Проверьте CSS animation: winnerPulse 2s

ПРОБЛЕМА: Подсветка не исчезает

Решение:
  1. Должна исчезнуть через 5 секунд
  2. Проверьте setTimeout в useEffect
  3. Проверьте setShowdownWinners([])

═══════════════════════════════════════════════════════════════

📊 ТЕХНИЧЕСКИЕ ДЕТАЛИ:

CSS Classes:
  • .seatWinner - золотая подсветка
  • .winnerBadge - бейдж "WIN"

Animations:
  • winnerPulse - пульсация рамки (2s)
  • winnerBadgeShine - переливание градиента (3s)
  • winnerBadgeBounce - появление бейджа (0.6s)

React State:
  • showdownWinners: SeatPosition[] - кто победитель
  • showdownRevealed: boolean - показывать ли подсветку

Server Event:
  • type: 'handComplete'
  • winners: string[] - user IDs победителей
  • winType: 'showdown' | 'fold'

═══════════════════════════════════════════════════════════════

💡 ПОЛЕЗНЫЕ КОМАНДЫ:

Перезапустить сервер:
  Ctrl+C (остановить)
  python server.py (запустить)

Перезапустить клиент:
  Ctrl+C (остановить)
  npm start (запустить)

Очистить кэш браузера:
  Ctrl+Shift+Delete
  Или Hard Reload: Ctrl+Shift+R

═══════════════════════════════════════════════════════════════

🎬 ПРИМЕР СЕССИИ:

1. Start:
   [Terminal 1] python server.py
   [Terminal 2] cd poker-table-ui && npm start
   [Browser] http://localhost:3000

2. Play:
   • 2 игрока за столом
   • Кнопка "Start Hand"
   • Betting rounds → River
   • Showdown!

3. Result:
   💥 ЗОЛОТАЯ ПОДСВЕТКА НА ПОБЕДИТЕЛЕ! 💥
   
   [Console]
   🏆 handComplete received: ["user-456"] "showdown"
   👑 Winners highlighted at seats: [2]
   
   [Screen]
   Player 2 светится золотым
   Бейдж "WIN" анимирован
   Пульсация заметна
   
4. After 5 seconds:
   ✅ Подсветка исчезла
   ✅ Новая раздача готова

═══════════════════════════════════════════════════════════════

🎉 SUCCESS CRITERIA:

Функция работает ОТЛИЧНО если:

  ✅ Подсветка появляется МГНОВЕННО
  ✅ ВИДНО невооруженным глазом
  ✅ Пульсация ЗАМЕТНА
  ✅ Бейдж "WIN" над игроком
  ✅ Золотой цвет ЯРКИЙ
  ✅ Исчезает через 5 секунд
  ✅ Не мешает новой раздаче

═══════════════════════════════════════════════════════════════

📞 НУЖНА ПОМОЩЬ?

Читать полную документацию:
  • ✅_WINNER_HIGHLIGHT.md (детальный гайд)
  • poker_table.module.css lines 17-96 (CSS)
  • PokerTable.tsx lines 361-425 (React logic)

Проверить код:
  • F12 → Sources → poker_table.module.css
  • Найти .seatWinner class
  • Проверить все анимации загружены

═══════════════════════════════════════════════════════════════

🌟 ЧТО ИЗМЕНИЛОСЬ:

БЫЛО (до фикса):
  • Нет визуальной индикации победителя
  • Непонятно кто выиграл
  • Нужно читать лог событий

СТАЛО (после фикса):
  • ✨ ЯРКАЯ ЗОЛОТАЯ ПОДСВЕТКА
  • 🏆 Бейдж "WIN" сверху
  • 💫 Пульсирующее свечение
  • ⏱️ Автоматически исчезает
  • 👑 НЕВОЗМОЖНО НЕ ЗАМЕТИТЬ!

═══════════════════════════════════════════════════════════════

🚀 ГОТОВ К ТЕСТУ!

1. Запустите сервер и клиент
2. Сыграйте hand до showdown
3. НАСЛАЖДАЙТЕСЬ ЭФФЕКТОМ! 🌟

═══════════════════════════════════════════════════════════════

Made with ❤️ by Windsurf AI
Winner Highlight Test Guide - November 27, 2025

🏆 VICTORY IS NOW VISIBLE! ✨

═══════════════════════════════════════════════════════════════
